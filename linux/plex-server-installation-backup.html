<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="dark light">
    <link rel="icon" href="data:,">
    <title>Eric Jones - Plex Server Installation and Backup</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
</head>
<main>
    <div class="header">
        <span><a href="/">Eric Jones</a> &gt; Plex Server Installation and Backup</span>
    </div>

    <article>
    <hr>
    <h1>Plex Server Installation and Backup</h1>
    <section>
        <p>
            <em>Plex gives you one place to find and access all the media that matters to you. From personal media on your own server, to free and on-demand Movies & Shows, live TV, podcasts, and web shows, to streaming music, you can enjoy it all in one app, on any device.</em>
        </p>
    </section>
    <section>
        <h2 class="heading">Plex Media Server Installation</h2>
        <h3>Plex Package Repository</h3>
            <ol>
                <li>Update and upgrade packages -</li>
                    <pre class="align-left"><code>$ sudo apt-get update && sudo apt-get upgrade -y </code></pre>
                <li>Installing dependencies and repositories -</li>
                    <pre class="align-left"><code>$ sudo apt-get install apt-transport-https  </code></pre>
                    <pre class="align-left"><code>$ curl https://downloads.plex.tv/plex-keys/PlexSign.key | sudo apt-key add -  </code></pre>
                    <pre class="align-left"><code>$ echo deb https://downloads.plex.tv/repo/deb public main | sudo tee /etc/apt/sources.list.d/plexmediaserver.list </code></pre>
                    <pre class="align-left"><code>$ sudo apt-get update </code></pre>
            </ol>
    </section>
    <section>
        <h3>Installing Plex Media Server Package</h3>
                <ol>
                    <li>Installing plexmediaserver -</li>
                        <pre class="align-left"><code>$ sudo apt install plexmediaserver  </code></pre>
                    <li>If this message <code>plexmediaserver.list (Y/I/N/O/D/Z) [default=N] ?</code> appears, type <code>N</code></li>
                </ol>
    </section>
    <section>
        <h3>Setting up Plex Server via Web Browser</h3>
            <ol>
                <li>In web browser address bar type <code>[YOUR IP]:32400/web </code></li>
                <li>Give server a name</li>
                <li>Select “Add Library” in left-hand side column</li>
                <li>Select desired type of media</li>
                <li>When browsing for media click the parent folder that contains the 
                desired media</li>
            </ol>
    </section>
    <section>
        <h1 class="heading">Plex Media Server Backup</h1>
        <h3>Plex Media Server Data Directory Location</h3>
        <p>Location: /var/lib/plexmediaserver/Library/Application\ Support/</p>
        <h3>Copy Plex Directory and Create Archived File</h3>
                <ol>
                    <li>In main directory -</li>
                        <pre class="align-left"><code>$ rsync -ravuP /var/lib/plexmediaserver/Library/Application\ Support/ /home/pi/plex-backup/  </code></pre>
                        <pre class="align-left"><code>$ tar -czvf plexbackup.tar.gz /home/pi/plex-backup/Plex\ Media\ Server/  </code></pre>
                    <li>Type <code>ls</code> to verify and see 'plexbackup.tar.gz' file</li>
                </ol>

        <h3>Copy Tar File to Local Machine</h3>
            <pre class="align-left-no-list"><code>$ rsync -avuPr [USERNAME]@[IP-ADDRESS]:plexbackup.tar.gz ~/path/of/desired/location  </code></pre>
        <h3>Restoring Backup</h3>
            <pre class="align-left-no-list"><code>$ cp plexbackup.tar.gz /var/lib/plexmediaserver/Library/Application\ Support/ </code></pre>
            <pre class="align-left-no-list"><code>$ tar -xf plexbackup.tar.gz  </code></pre>
            <p>Re-install Plex Media Server application</p>
    </section>
    </article>
</main>
</html>